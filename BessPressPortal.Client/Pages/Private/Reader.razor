@page "/reader"

@inject IJSRuntime JS

<h3>Offline HTML Viewer</h3>

<button @onclick="DownloadHtml">Download for Offline Use</button>
<button @onclick="ShowHtml">Show Offline HTML</button>

<div>
    <h4>HTML Content:</h4>
    <div>@((MarkupString)htmlContent)</div>
</div>

@code {
    string htmlContent;

    async Task DownloadHtml()
    {
        await JS.InvokeVoidAsync("fileCache.cacheFile", "https://localhost:7163/ContentLibrary/test1.html");
    }

    async Task ShowHtml()
    {
        htmlContent = await JS.InvokeAsync<string>("fileCache.getCachedFile", "https://localhost:7163/ContentLibrary/test1.html");
    }
}
